/**
 * 错误码映射表
 * 根据后端API文档定义的错误码
 */

// HTTP状态码映射
export const HTTP_STATUS = {
  200: '请求成功',
  400: '请求参数错误',
  401: '未授权，请先登录',
  403: '没有权限访问',
  404: '请求的资源不存在',
  500: '服务器内部错误',
  502: '网关错误',
  503: '服务暂不可用',
  504: '网关超时'
}

// 业务错误码映射（根据API文档）
export const BUSINESS_CODE = {
  // 通用错误码
  200: '操作成功',
  400: '参数验证失败',
  401: '未授权',
  403: '无权限',
  404: '资源不存在',
  500: '系统错误',

  // 用户服务错误码 (1000-1999)
  1001: '用户不存在',
  1002: '用户名已存在',
  1003: '手机号已存在',
  1004: '账户已被禁用',
  1005: '余额不足',
  1006: '密码错误',
  1007: '用户名或密码错误',
  1008: '验证码错误',
  1009: '验证码已过期',
  1010: '该手机号已注册',

  // 商品服务错误码 (2000-2999)
  2001: '商品不存在',
  2002: '商品已下架',
  2003: '库存不足',
  2004: '商品分类不存在',
  2005: '商品已售罄',

  // 订单服务错误码 (3000-3999)
  3001: '订单不存在',
  3002: '订单状态异常',
  3003: '订单已取消',
  3004: '订单已完成',
  3005: '订单不可取消',
  3006: '地址不存在',

  // 拼团服务错误码 (4000-4999)
  4001: '拼团活动不存在',
  4002: '拼团活动已结束',
  4003: '拼团活动未开始',
  4004: '拼团人数已满',
  4005: '已参加该拼团',
  4006: '拼团已成功',
  4007: '拼团已失败',
  4008: '不能参加自己发起的拼团',

  // 支付服务错误码 (5000-5999)
  5001: '支付失败',
  5002: '支付订单不存在',
  5003: '支付已完成',
  5004: '支付已取消',
  5005: '余额不足',
  5006: '退款失败',

  // 团长服务错误码 (6000-6999)
  6001: '团长不存在',
  6002: '社区不存在',
  6003: '该社区已有团长',
  6004: '团长申请已存在'
}

/**
 * 获取错误消息
 * @param {number} code - 错误码
 * @param {string} defaultMsg - 默认消息
 * @returns {string} 错误消息
 */
export function getErrorMessage(code, defaultMsg = '操作失败') {
  return BUSINESS_CODE[code] || defaultMsg
}

/**
 * 判断是否成功
 * @param {number} code - 状态码
 * @returns {boolean}
 */
export function isSuccess(code) {
  return code === 200
}

/**
 * 判断是否需要登录
 * @param {number} code - 状态码
 * @returns {boolean}
 */
export function needLogin(code) {
  return code === 401
}

/**
 * 判断是否无权限
 * @param {number} code - 状态码
 * @returns {boolean}
 */
export function noPermission(code) {
  return code === 403
}

